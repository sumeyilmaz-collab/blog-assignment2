---
import { supabase } from "../lib/supabaseClient";

export const prerender = false;

const { data } = await supabase.auth.getSession();
const isLoggedIn = !!data.session;
---

<header class="border-b border-slate-200 bg-white/80 backdrop-blur">
  <div class="mx-auto flex max-w-6xl items-center justify-between px-6 py-4">
    <a href="/" class="flex items-center gap-2 font-semibold text-lg">
      <span class="inline-flex h-8 w-8 items-center justify-center rounded-md bg-blue-600 text-white">
        âœ¦
      </span>
      <span>The Modern Journal</span>
    </a>

    <nav class="flex items-center gap-6 text-sm">
      <a href="/" class="hover:text-blue-600">Home</a>
      <a href="/posts" class="hover:text-blue-600">Posts</a>

      {isLoggedIn ? (
        <>
          <a href="/account" class="hover:text-blue-600 font-semibold">Account</a>
        </>
      ) : (
        <>
          <a href="/register" class="hover:text-blue-600">Register</a>
          <a href="/login" class="hover:text-blue-600">Login</a>
        </>
      )}
    </nav>
  </div>
</header>
